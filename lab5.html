<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastRobots 2025 - Lab 5: Linear PID control and Linear interpolation</title>
    <link rel="stylesheet" href="labpagestyles.css"> <!-- Link to external CSS file -->
</head>
    
<body>
  <nav>
        <ul>
            <li><a href="index.html">Home Page</a></li>
            <li><a href="lab1.html">Lab 1 Page</a></li>
            <li><a href="lab2.html">Lab 2 Page</a></li>
            <li><a href="lab3.html">Lab 3 Page</a></li>
            <li><a href="lab4.html">Lab 4 Page</a></li>
            <li><a href="lab5.html">Lab 5 Page</a></li>
        </ul>
    </nav>
    <h1>PID Control </h1>

    <h2>Prelab</h2>
    <p>For sending and receiving data over Bluetooth, I simply used the notification handler used in pervious labs as well as ....</p>
    
    <h3>Arduino Code for Bluetooth Communication</h3>
    <pre>
    [INSERT CODE]
    </pre>

    <h3>Python Code for Bluetooth Communication</h3>
    <pre>
    [INSERT CODE]
    </pre>

    <h2>Lab Tasks</h2>
    <h3>P/I/D Discussion</h3>
    <p>I chose a PID controller with the following values:</p>
    <ul>
        <li>Kp = 0.1 </li>
        <li>Ki = 0.002</li>
        <li>Kd = 0.1  </li>
    </ul>
    <p>This combination allowed for fast and stable control while avoiding oscillations and overshoot. These values allow for the error to build up making the pwm signal
    to gradually climb and at some point allowing the robot to move. Since it a slow build the robot's speed will be slow and will only increase to a higher speed if the error build up is large enough.
    Since the intergral code is contiously adding error without making this term extremely small the output will quickly become an extremely large number capping out the speed
    when intially turn on. This lead to many instances of overshooting .</p>

    <h3>Range/Sampling Time Discussion</h3>
    <p>The ToF sensor was set to short range. The PID loop ran at approximately 50 Hz, while the sensor updated at ~10 Hz.</p>

    <h3>Graphs</h3>
    <p>Below are graphs of ToF sensor data vs. time and motor input vs. time.</p>
    <img src="tof_vs_time.png" alt="ToF Sensor Data vs. Time">
    <img src="motor_vs_time.png" alt="Motor Input vs. Time">

    <h3>Videos and Images</h3>
    <video controls>
        <source src="experiment.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <h3>Discussion</h3>
    <p>The robot successfully stopped at 1 ft from the wall in multiple trials. Extrapolating ToF data improved reaction time and stability. The main challenges were noise in the derivative term and motor deadband, which were addressed by implementing a low-pass filter and scaling function.</p>
</body>
</html>
